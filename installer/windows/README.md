# Conceal Desktop Windows Installer

## Introduction
This is a Inno Setup script used to build a Windows installer for Conceal Desktop.

The installer automatically installs the Visual C++ Redistributable when they are not already installed.

As it replaces the old NSIS installer, this installer will uninstall any version of Conceal Desktop previously installed by the NSIS installer before installing the new version.

## Building
To build the installer you will need to have Windows.
Then follow these steps:
- Install [Inno Setup](https://jrsoftware.org/isdl.php).
- Clone the [Conceal Desktop repository](https://github.com/ConcealNetwork/conceal-desktop) and go to the installer directory `installer\windows`.
- Build Conceal Desktop ([instructions](https://github.com/ConcealNetwork/conceal-desktop#windows-10)) and run windeployqt.
- Copy the files generated by windeployqt in the `build` folder.
- Start Inno Setup, load `ConcealInstaller.iss` and compile it.
- When the compilation is finished, the installer will be in the `bin` directory.


## Credits
Special thanks to DomGries who created [InnoDependencyInstaller](https://github.com/DomGries/InnoDependencyInstaller) which is the base of the Conceal Desktop installer.